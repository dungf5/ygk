{% set Categories = repository('Eccube\\Entity\\Category').getList() %}
{% macro tree(Category) %}
{% from _self import tree %}<a href="{{ url('product_list') }}?category_id={{ Category.id }}">{{ Category.name }}</a>{% endmacro %}
{# @see https://github.com/bolt/bolt/pull/2388 #}
{% from _self import tree %}

<div class="footer">
    <div class="footerMenu">
        <div class="footerWrapper">
            <div class="logo">
                <a href="{{ url('homepage') }}"><img src="/html/user_data/assets/img/common/logo_R+W.svg" alt="{{ BaseInfo.shop_name }}"></a>
            </div>
            <div class="menu">
                <div class="inner">
                    {% if is_granted('ROLE_USER') %}
                        <div class="ttl fnDIN">CATEGORY</div>
                        <ul>
                            {% for Category in Categories %}
                                {% if Category.id is not same as(20) %}
                                    <li>{{ tree(Category) }}</li>
                                {% endif %}
                            {% endfor %}
                        </ul>
                    {% endif %}
                </div>
                <div class="inner">
                    <div class="ttl fnDIN">CONTENTS</div>
                    <ul>
                        <li><a href="{{ url('help_privacy') }}">{{ 'front.block.footer.privacy_policy'|trans }}</a></li>
                        <li><a href="{{ url('help_tradelaw') }}">{{ 'front.block.footer.act_on_specified_commercial_transactions'|trans }}</a></li>
                    </ul>
                </div>
            </div>
            <div class="shopInfo">
                <div class="name fnDIN">株式会社　XBRAID JAPAN</div>
                <div class="company"><br/>〒550-0005大阪市西区西本町1-7-21<br/>ニシモトビル303</div>
                <div class="tel">TEL 050-5526-8046<br/>FAX 050-3385-5614</div>
                <div class="notice"></div>
            </div>
        </div>
    </div>
    <div class="copyright"><small>&copy; 2022{{ BaseInfo.shop_name }}</small></div>
</div>
