deploy_develop:
  tags:
    - develop
  before_script:
    - whoami > /var/tmp/ygk-dev.txt
    - eval $(ssh-agent -s)
    - ssh-add /home/ec2-user/.ssh/id_rsa
    - cd /var/www/html/staging_dev
  environment:
    name: develop
  when: manual
  script:
    - git checkout .
    - git pull origin
  only:
    - develop
deploy_staging:
  tags:
    - staging
  before_script:
    - whoami > /var/tmp/ygk-staging.txt
    - eval $(ssh-agent -s)
    - ssh-add /home/ec2-user/.ssh/id_rsa
    - cd /var/www/html/staging
  environment:
    name: staging
  when: manual
  script:
    - git checkout .
    - git pull origin
  only:
    - staging
deploy_production:
  tags:
    - production
  before_script:
    - whoami > /var/tmp/ygk-production.txt
    - eval $(ssh-agent -s)
    - ssh-add /home/ec2-user/.ssh/id_rsa
    - cd /var/www/html/production
  environment:
    name: production
  when: manual
  script:
    - git checkout .
    - git pull origin
  only:
    - production
